​
# 系列简介
不确定这个效果有没有一个通用的名字，还是看一眼动图吧。

[动图]

本系列想分享的就是光扫过去这一下的效果，我暂且称为扫光。这种效果本质上是一道光带掠过目标物体的表面，可以被用来展现材质特性或者吸引用户的注意。本系列提供几种在Unity Shader Graph里实现的方式，由简至繁：

1. 使用光带贴图，在物体的表面移动 (UV空间)

2. 制作全屏光带，再映射到物体可见的部分 (屏幕空间)

3. 使用程序生成光带


# 使用光带贴图 - 在物体的表面移动 (UV空间)
如果有合适的光带贴图，最简单的方式是将其以叠加的方式应用在目标物体上，再通过调整其UV，达到移动光带的效果。

[光带贴图]

## 采样
在我们的Shader Graph中，先采样目标物体的颜色。我这里使用的是最简单的Texture采样，我还叠加了一个`MainColor`（可选）：

[采样目标物体颜色]

接着我们需要采样光带的颜色。这里同样使用一个Texture采样，我还加了一个`Alpha`来控制光带透明度。值得注意的是这里提前加入了一个`Tiling and Offset`节点，后续用来控制光带的移动：

[采样光带颜色]

## 混合
有了这两种颜色我们就可以预览一下效果了。光带颜色通过叠加（或其他混合方式）与目标物体颜色混合，就得到了静态的光带效果。

[静态光带效果]

## 动起来
还记得之前采样光带时添加的`Tiling and Offset`节点吗？通过调整offset，我们可以实现光带的移动。我定义了一个`Step`变量来代表光带在目标物体上移动的“路程”（0到1）：

[Step变量截图]

> 选中float类型的变量后，可以在变量窗口选择Mode：Slider以开放滑块控制。

当`Step`变化时，就能看到光带在移动了。

## 旋转
通常我们还会需要设定光带移动的角度。我们既然已经使用了UV offset，也可以在UV上施加旋转。这里我定义了一个Angle变量， 连接到UV的`Rotate`节点上：

[旋转UV]

旋转完的UV接入上一步的`Tiling and Offset`节点，就能控制光带的旋转了。

# 结语
完整的Shader Graph长这样

[完整Shdaer Graph]

很简单，不是吗？但很好用，以本人的经验来看多数情况这个方案就够用了。

不过由于和目标物体UV绑定的原因，它也的确存在一些局限性。要是碰上目标物体UV不合适，或是不想在目标物体的背面渲染光带之类的情况，就需要考虑其他实现的方式。
​